{"ast":null,"code":"import { NavigationEnd } from '@angular/router';\nimport { animate, state, style, transition, trigger } from '@angular/animations';\nimport { filter } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./service/app.layout.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"./app.menu.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"primeng/ripple\";\nconst _c0 = [\"app-menuitem\", \"\"];\nconst _c1 = () => ({\n  paths: \"exact\",\n  queryParams: \"ignored\",\n  matrixParams: \"ignored\",\n  fragment: \"ignored\"\n});\nfunction AppMenuitemComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r0.item.label);\n  }\n}\nfunction AppMenuitemComponent_a_2_i_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 9);\n  }\n}\nfunction AppMenuitemComponent_a_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 5);\n    i0.ɵɵlistener(\"click\", function AppMenuitemComponent_a_2_Template_a_click_0_listener($event) {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.itemClick($event));\n    });\n    i0.ɵɵelement(1, \"i\", 6);\n    i0.ɵɵelementStart(2, \"span\", 7);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, AppMenuitemComponent_a_2_i_4_Template, 1, 0, \"i\", 8);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngClass\", ctx_r0.item.class);\n    i0.ɵɵattribute(\"href\", ctx_r0.item.url, i0.ɵɵsanitizeUrl)(\"target\", ctx_r0.item.target);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngClass\", ctx_r0.item.icon);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.item.label);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.item.items);\n  }\n}\nfunction AppMenuitemComponent_a_3_i_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 9);\n  }\n}\nfunction AppMenuitemComponent_a_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 10);\n    i0.ɵɵlistener(\"click\", function AppMenuitemComponent_a_3_Template_a_click_0_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.itemClick($event));\n    });\n    i0.ɵɵelement(1, \"i\", 6);\n    i0.ɵɵelementStart(2, \"span\", 7);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, AppMenuitemComponent_a_3_i_4_Template, 1, 0, \"i\", 8);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngClass\", ctx_r0.item.class)(\"routerLink\", ctx_r0.item.routerLink)(\"routerLinkActiveOptions\", ctx_r0.item.routerLinkActiveOptions || i0.ɵɵpureFunction0(14, _c1))(\"fragment\", ctx_r0.item.fragment)(\"queryParamsHandling\", ctx_r0.item.queryParamsHandling)(\"preserveFragment\", ctx_r0.item.preserveFragment)(\"skipLocationChange\", ctx_r0.item.skipLocationChange)(\"replaceUrl\", ctx_r0.item.replaceUrl)(\"state\", ctx_r0.item.state)(\"queryParams\", ctx_r0.item.queryParams);\n    i0.ɵɵattribute(\"target\", ctx_r0.item.target);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngClass\", ctx_r0.item.icon);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.item.label);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.item.items);\n  }\n}\nfunction AppMenuitemComponent_ul_4_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"li\", 12);\n  }\n  if (rf & 2) {\n    const child_r4 = ctx.$implicit;\n    const i_r5 = ctx.index;\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵclassMap(child_r4.badgeClass);\n    i0.ɵɵproperty(\"item\", child_r4)(\"index\", i_r5)(\"parentKey\", ctx_r0.key);\n  }\n}\nfunction AppMenuitemComponent_ul_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\");\n    i0.ɵɵtemplate(1, AppMenuitemComponent_ul_4_ng_template_1_Template, 1, 5, \"ng-template\", 11);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"@children\", ctx_r0.submenuAnimation);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.item.items);\n  }\n}\nexport class AppMenuitemComponent {\n  constructor(layoutService, cd, router, menuService) {\n    this.layoutService = layoutService;\n    this.cd = cd;\n    this.router = router;\n    this.menuService = menuService;\n    this.active = false;\n    this.key = \"\";\n    this.menuSourceSubscription = this.menuService.menuSource$.subscribe(value => {\n      Promise.resolve(null).then(() => {\n        if (value.routeEvent) {\n          this.active = value.key === this.key || value.key.startsWith(this.key + '-') ? true : false;\n        } else {\n          if (value.key !== this.key && !value.key.startsWith(this.key + '-')) {\n            this.active = false;\n          }\n        }\n      });\n    });\n    this.menuResetSubscription = this.menuService.resetSource$.subscribe(() => {\n      this.active = false;\n    });\n    this.router.events.pipe(filter(event => event instanceof NavigationEnd)).subscribe(params => {\n      if (this.item.routerLink) {\n        this.updateActiveStateFromRoute();\n      }\n    });\n  }\n  ngOnInit() {\n    this.key = this.parentKey ? this.parentKey + '-' + this.index : String(this.index);\n    if (this.item.routerLink) {\n      this.updateActiveStateFromRoute();\n    }\n  }\n  updateActiveStateFromRoute() {\n    let activeRoute = this.router.isActive(this.item.routerLink[0], {\n      paths: 'exact',\n      queryParams: 'ignored',\n      matrixParams: 'ignored',\n      fragment: 'ignored'\n    });\n    if (activeRoute) {\n      this.menuService.onMenuStateChange({\n        key: this.key,\n        routeEvent: true\n      });\n    }\n  }\n  itemClick(event) {\n    // avoid processing disabled items\n    if (this.item.disabled) {\n      event.preventDefault();\n      return;\n    }\n    // execute command\n    if (this.item.command) {\n      this.item.command({\n        originalEvent: event,\n        item: this.item\n      });\n    }\n    // toggle active state\n    if (this.item.items) {\n      this.active = !this.active;\n    }\n    this.menuService.onMenuStateChange({\n      key: this.key\n    });\n  }\n  get submenuAnimation() {\n    return this.root ? 'expanded' : this.active ? 'expanded' : 'collapsed';\n  }\n  get activeClass() {\n    return this.active && !this.root;\n  }\n  ngOnDestroy() {\n    if (this.menuSourceSubscription) {\n      this.menuSourceSubscription.unsubscribe();\n    }\n    if (this.menuResetSubscription) {\n      this.menuResetSubscription.unsubscribe();\n    }\n  }\n  static #_ = this.ɵfac = function AppMenuitemComponent_Factory(t) {\n    return new (t || AppMenuitemComponent)(i0.ɵɵdirectiveInject(i1.LayoutService), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.MenuService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AppMenuitemComponent,\n    selectors: [[\"\", \"app-menuitem\", \"\"]],\n    hostVars: 4,\n    hostBindings: function AppMenuitemComponent_HostBindings(rf, ctx) {\n      if (rf & 2) {\n        i0.ɵɵclassProp(\"layout-root-menuitem\", ctx.root)(\"active-menuitem\", ctx.activeClass);\n      }\n    },\n    inputs: {\n      item: \"item\",\n      index: \"index\",\n      root: \"root\",\n      parentKey: \"parentKey\"\n    },\n    attrs: _c0,\n    decls: 5,\n    vars: 4,\n    consts: [[\"class\", \"layout-menuitem-root-text\", 4, \"ngIf\"], [\"tabindex\", \"0\", \"pRipple\", \"\", 3, \"ngClass\", \"click\", 4, \"ngIf\"], [\"routerLinkActive\", \"active-route\", \"tabindex\", \"0\", \"pRipple\", \"\", 3, \"ngClass\", \"routerLink\", \"routerLinkActiveOptions\", \"fragment\", \"queryParamsHandling\", \"preserveFragment\", \"skipLocationChange\", \"replaceUrl\", \"state\", \"queryParams\", \"click\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"layout-menuitem-root-text\"], [\"tabindex\", \"0\", \"pRipple\", \"\", 3, \"click\", \"ngClass\"], [1, \"layout-menuitem-icon\", 3, \"ngClass\"], [1, \"layout-menuitem-text\"], [\"class\", \"pi pi-fw pi-angle-down layout-submenu-toggler\", 4, \"ngIf\"], [1, \"pi\", \"pi-fw\", \"pi-angle-down\", \"layout-submenu-toggler\"], [\"routerLinkActive\", \"active-route\", \"tabindex\", \"0\", \"pRipple\", \"\", 3, \"click\", \"ngClass\", \"routerLink\", \"routerLinkActiveOptions\", \"fragment\", \"queryParamsHandling\", \"preserveFragment\", \"skipLocationChange\", \"replaceUrl\", \"state\", \"queryParams\"], [\"ngFor\", \"\", 3, \"ngForOf\"], [\"app-menuitem\", \"\", 3, \"item\", \"index\", \"parentKey\"]],\n    template: function AppMenuitemComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementContainerStart(0);\n        i0.ɵɵtemplate(1, AppMenuitemComponent_div_1_Template, 2, 1, \"div\", 0)(2, AppMenuitemComponent_a_2_Template, 5, 6, \"a\", 1)(3, AppMenuitemComponent_a_3_Template, 5, 15, \"a\", 2)(4, AppMenuitemComponent_ul_4_Template, 2, 2, \"ul\", 3);\n        i0.ɵɵelementContainerEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"ngIf\", ctx.root && ctx.item.visible !== false);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"ngIf\", (!ctx.item.routerLink || ctx.item.items) && ctx.item.visible !== false);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"ngIf\", ctx.item.routerLink && !ctx.item.items && ctx.item.visible !== false);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"ngIf\", ctx.item.items && ctx.item.visible !== false);\n      }\n    },\n    dependencies: [i4.NgClass, i4.NgForOf, i4.NgIf, i5.Ripple, i2.RouterLink, i2.RouterLinkActive, AppMenuitemComponent],\n    encapsulation: 2,\n    data: {\n      animation: [trigger('children', [state('collapsed', style({\n        height: '0'\n      })), state('expanded', style({\n        height: '*'\n      })), transition('collapsed <=> expanded', animate('400ms cubic-bezier(0.86, 0, 0.07, 1)'))])]\n    }\n  });\n}","map":{"version":3,"names":["NavigationEnd","animate","state","style","transition","trigger","filter","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","ctx_r0","item","label","ɵɵelement","ɵɵlistener","AppMenuitemComponent_a_2_Template_a_click_0_listener","$event","ɵɵrestoreView","_r2","ɵɵnextContext","ɵɵresetView","itemClick","ɵɵtemplate","AppMenuitemComponent_a_2_i_4_Template","ɵɵproperty","class","icon","items","AppMenuitemComponent_a_3_Template_a_click_0_listener","_r3","AppMenuitemComponent_a_3_i_4_Template","routerLink","routerLinkActiveOptions","ɵɵpureFunction0","_c1","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","queryParams","ɵɵclassMap","child_r4","badgeClass","i_r5","key","AppMenuitemComponent_ul_4_ng_template_1_Template","submenuAnimation","AppMenuitemComponent","constructor","layoutService","cd","router","menuService","active","menuSourceSubscription","menuSource$","subscribe","value","Promise","resolve","then","routeEvent","startsWith","menuResetSubscription","resetSource$","events","pipe","event","params","updateActiveStateFromRoute","ngOnInit","parentKey","index","String","activeRoute","isActive","paths","matrixParams","onMenuStateChange","disabled","preventDefault","command","originalEvent","root","activeClass","ngOnDestroy","unsubscribe","_","ɵɵdirectiveInject","i1","LayoutService","ChangeDetectorRef","i2","Router","i3","MenuService","_2","selectors","hostVars","hostBindings","AppMenuitemComponent_HostBindings","rf","ctx","ɵɵclassProp","ɵɵelementContainerStart","AppMenuitemComponent_div_1_Template","AppMenuitemComponent_a_2_Template","AppMenuitemComponent_a_3_Template","AppMenuitemComponent_ul_4_Template","visible","encapsulation","data","animation","height"],"sources":["/workspace/angular-sakai/src/app/layout/app.menuitem.component.ts"],"sourcesContent":["import { ChangeDetectorRef, Component, Host, HostBinding, Input, OnDestroy, OnInit } from '@angular/core';\nimport { NavigationEnd, Router } from '@angular/router';\nimport { animate, state, style, transition, trigger } from '@angular/animations';\nimport { Subscription } from 'rxjs';\nimport { filter } from 'rxjs/operators';\nimport { MenuService } from './app.menu.service';\nimport { LayoutService } from './service/app.layout.service';\n\n@Component({\n    // eslint-disable-next-line @angular-eslint/component-selector\n    selector: '[app-menuitem]',\n    template: `\n\t\t<ng-container>\n            <div *ngIf=\"root && item.visible !== false\" class=\"layout-menuitem-root-text\">{{item.label}}</div>\n\t\t\t<a *ngIf=\"(!item.routerLink || item.items) && item.visible !== false\" [attr.href]=\"item.url\" (click)=\"itemClick($event)\"\n\t\t\t   [ngClass]=\"item.class\" [attr.target]=\"item.target\" tabindex=\"0\" pRipple>\n\t\t\t\t<i [ngClass]=\"item.icon\" class=\"layout-menuitem-icon\"></i>\n\t\t\t\t<span class=\"layout-menuitem-text\">{{item.label}}</span>\n\t\t\t\t<i class=\"pi pi-fw pi-angle-down layout-submenu-toggler\" *ngIf=\"item.items\"></i>\n\t\t\t</a>\n\t\t\t<a *ngIf=\"(item.routerLink && !item.items) && item.visible !== false\" (click)=\"itemClick($event)\" [ngClass]=\"item.class\" \n\t\t\t   [routerLink]=\"item.routerLink\" routerLinkActive=\"active-route\" [routerLinkActiveOptions]=\"item.routerLinkActiveOptions||{ paths: 'exact', queryParams: 'ignored', matrixParams: 'ignored', fragment: 'ignored' }\"\n               [fragment]=\"item.fragment\" [queryParamsHandling]=\"item.queryParamsHandling\" [preserveFragment]=\"item.preserveFragment\" \n               [skipLocationChange]=\"item.skipLocationChange\" [replaceUrl]=\"item.replaceUrl\" [state]=\"item.state\" [queryParams]=\"item.queryParams\"\n               [attr.target]=\"item.target\" tabindex=\"0\" pRipple>\n\t\t\t\t<i [ngClass]=\"item.icon\" class=\"layout-menuitem-icon\"></i>\n\t\t\t\t<span class=\"layout-menuitem-text\">{{item.label}}</span>\n\t\t\t\t<i class=\"pi pi-fw pi-angle-down layout-submenu-toggler\" *ngIf=\"item.items\"></i>\n\t\t\t</a>\n\n\t\t\t<ul *ngIf=\"item.items && item.visible !== false\" [@children]=\"submenuAnimation\">\n\t\t\t\t<ng-template ngFor let-child let-i=\"index\" [ngForOf]=\"item.items\">\n\t\t\t\t\t<li app-menuitem [item]=\"child\" [index]=\"i\" [parentKey]=\"key\" [class]=\"child.badgeClass\"></li>\n\t\t\t\t</ng-template>\n\t\t\t</ul>\n\t\t</ng-container>\n    `,\n    animations: [\n        trigger('children', [\n            state('collapsed', style({\n                height: '0'\n            })),\n            state('expanded', style({\n                height: '*'\n            })),\n            transition('collapsed <=> expanded', animate('400ms cubic-bezier(0.86, 0, 0.07, 1)'))\n        ])\n    ]\n})\nexport class AppMenuitemComponent implements OnInit, OnDestroy {\n\n    @Input() item: any;\n\n    @Input() index!: number;\n\n    @Input() @HostBinding('class.layout-root-menuitem') root!: boolean;\n\n    @Input() parentKey!: string;\n\n    active = false;\n\n    menuSourceSubscription: Subscription;\n\n    menuResetSubscription: Subscription;\n\n    key: string = \"\";\n\n    constructor(public layoutService: LayoutService, private cd: ChangeDetectorRef, public router: Router, private menuService: MenuService) {\n        this.menuSourceSubscription = this.menuService.menuSource$.subscribe(value => {\n            Promise.resolve(null).then(() => {\n                if (value.routeEvent) {\n                    this.active = (value.key === this.key || value.key.startsWith(this.key + '-')) ? true : false;\n                }\n                else {\n                    if (value.key !== this.key && !value.key.startsWith(this.key + '-')) {\n                        this.active = false;\n                    }\n                }\n            });\n        });\n\n        this.menuResetSubscription = this.menuService.resetSource$.subscribe(() => {\n            this.active = false;\n        });\n\n        this.router.events.pipe(filter(event => event instanceof NavigationEnd))\n            .subscribe(params => {\n                if (this.item.routerLink) {\n                    this.updateActiveStateFromRoute();\n                }\n            });\n    }\n\n    ngOnInit() {\n        this.key = this.parentKey ? this.parentKey + '-' + this.index : String(this.index);\n\n        if (this.item.routerLink) {\n            this.updateActiveStateFromRoute();\n        }\n    }\n\n    updateActiveStateFromRoute() {\n        let activeRoute = this.router.isActive(this.item.routerLink[0], { paths: 'exact', queryParams: 'ignored', matrixParams: 'ignored', fragment: 'ignored' });\n\n        if (activeRoute) {\n            this.menuService.onMenuStateChange({ key: this.key, routeEvent: true });\n        }\n    }\n\n    itemClick(event: Event) {\n        // avoid processing disabled items\n        if (this.item.disabled) {\n            event.preventDefault();\n            return;\n        }\n\n        // execute command\n        if (this.item.command) {\n            this.item.command({ originalEvent: event, item: this.item });\n        }\n\n        // toggle active state\n        if (this.item.items) {\n            this.active = !this.active;\n        }\n\n        this.menuService.onMenuStateChange({ key: this.key });\n    }\n\n    get submenuAnimation() {\n        return this.root ? 'expanded' : (this.active ? 'expanded' : 'collapsed');\n    }\n\n    @HostBinding('class.active-menuitem') \n    get activeClass() {\n        return this.active && !this.root;\n    }\n\n    ngOnDestroy() {\n        if (this.menuSourceSubscription) {\n            this.menuSourceSubscription.unsubscribe();\n        }\n\n        if (this.menuResetSubscription) {\n            this.menuResetSubscription.unsubscribe();\n        }\n    }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}